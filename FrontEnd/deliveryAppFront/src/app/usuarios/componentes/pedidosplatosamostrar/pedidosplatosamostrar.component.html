<!-- BOTON PARA CERRAR Y VOLVER AL PANEL DE CONTROL -->

<div class="container-fluid">
    <div class="d-flex justify-content-end">
        <a class="btnPanelDeControl" routerLink="/paneldecontrol">
            <i class="far fa-window-close fa-3x text-secondary"></i>
        </a>
    </div>
</div>

<div class="container-fluid">
    <div class="border border border-secondary border-2 rounded pt-4 ps-5 pe-5 mb-4" id="containerAll">




        <!-- BOTONES DE DESCARGAS E INFO -->

        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="btn-group border border-secondary border-2 pt-1 ps-2 pe-1 ms-auto" id="btn-group"
                        style="margin: 0 auto;">
                        <div class="row">
                            <div class="col-md-12 mb-2">
                                <button type="button" class="btn btn-primary btn-sm rounded-pill btn-block"
                                    (click)="mostrarOcultarModalInfo(templateModalInfo)">
                                    INFO
                                </button>
                            </div>
                            <div class="col-md-12 mb-2">
                                <button type="button" (click)="exportToExcelOnClick()"
                                    class="btn btn-danger btn-success btn-sm rounded-pill btn-block">
                                    DESCARGAR LISTA COMPLETA
                                </button>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                </div>
            </div>
        </div>



        <!-- MODAL QUE CON INFORMACION DE USO DEL COMPONENTE O PAGINA-->
        <div class="container-fluid">
            <ng-template #templateModalInfo>
                <div class="container-fluid modal-menu">
                    <div class="modal-header text-center">
                        <h4 class="modal-title">COMO USAR</h4>
                        <div class="">
                            <button type="button" class="btn btn-outline-light btn-sm" (click)="modalInfo.hide()">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>



        <!-- MODAL AGREGAR PEDIDO -->

        <ng-template #templateAgregarPedido>


            <div class="container modal-menu">
                <div class="row">
                    <div class="modal-header" id="backgrTitleModalAgPe">
                        <h4 class="modal-title">AGREGAR PEDIDO</h4>
                        <div class="card-icon card-icon-large">
                            <i class=""></i>
                        </div>
                        <button type="button" class="btn btn-outline-light btn-sm" title="Cerrar" (click) =" cerrarModalitosLimpiarInput();  
                                      resetFormCleanChekBox('formularioPedidYDetPedid'); 
                                      modalAgregarPedido.hide();
                                      eliminarPedidoSinDetPed()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
                <div class="row align-items-center border border-white border-2 rounded m-3" id="backgrAgPl">
                    <form novalidate #f="ngForm" class="pedidosForm" id="formularioPedidYDetPedid">
                        <div class="row text-center border border-white border-2 rounded m-3">
                            <div class="form-group col-6 pb-3">
                                <label for="nombreCliente">NOMBRE CLIENTE</label>
                                <input type="text" [readonly]="inputReadOnlyDatEnvio" class="form-control"
                                    id="nombreCliente" name="nombreCliente" [(ngModel)]="nombreCliente" required>
                            </div>
                            <div class="form-group col-6 pb-3">
                                <label for="telefonoCliente">TELEFONO CLIENTE</label>
                                <input type="text" [readonly]="inputReadOnlyDatEnvio" class="form-control"
                                    id="telefonoCliente" name="telefonoCliente" [(ngModel)]="telefonoCliente" required>
                            </div>
                            <div class="form-group col-6 pb-3">
                                <label for="direccionCliente">DIRECCION</label>
                                <input type="text" [readonly]="inputReadOnlyDatEnvio" class="form-control"
                                    id="direccionCliente" name="direccionCliente" [(ngModel)]="direccionCliente"
                                    required>
                            </div>
                            <div class="form-group col-6 pb-3">
                                <label for="hora">LOCALIDAD</label>
                                <input type="text" [readonly]="inputReadOnlyDatEnvio" class="form-control"
                                    id="localidadCliente" name="localidadCliente" [(ngModel)]="localidadCliente"
                                    required>
                            </div>
                            <div class="row justify-content-center">
                                <div class="col-12">
                                    <button class="btn btn-outline-light btn-sm" [disabled]="botonDisabledSeleccPlato"
                                        (click)="validadorDatosCliente()" [style.display]="botonDisplayNoneSeleccPlato">
                                        AGREGAR PLATOS AL PEDIDO
                                    </button>
                                    <div class="col-12">
                                        <button class="btn btn-outline-light btn-sm"
                                            [style.display]="botonDisplayNoneDatosEnvio"
                                            (click)="ocultarBtonAgregarPlatPedido()">
                                            EDITAR DATOS DE ENVIO
                                        </button>
                                    </div>
                                    <button class="btn btn-outline-light btn-sm"
                                        [style.display]="botonDisplayNoneGuardEdiDatEnv"
                                        (click)="validadorDatosCliente()">
                                        GUARDAR DATOS EDITADOS
                                    </button>
                                </div>
                                <br>
                                <br>
                            </div>
                        </div>

                        <!-- modalito ngIf para agregar platos al pedido-->
                        <div class="container-fluid modal-menu p-5 border border-white border-2 rounded m-3"
                            *ngIf="modalitoAgregarPlatos">
                            <div class="container d-flex justify-content-center">
                                <div class="table-responsive">
                                    <table class="tableAgregarPlato table-bordered border">
                                        <thead>
                                            <tr> <!-- se usa para el form pero no se muestra en pantalla-->
                                                <th class="col-lg-1 align-middle text-center" scope="col"
                                                    [style.display]="'none'">
                                                    ID PLATOAMOS
                                                </th>
                                                <!-- se usa para el form pero no se muestra en pantalla-->
                                                <th class="col-lg-1 align-middle text-center" scope="col"
                                                    [style.display]="'none'">
                                                    ID PEDIDO
                                                </th>
                                                <th class="col-lg-2 align-middle text-center" scope="col">
                                                    NOMBRE PLATO
                                                </th>
                                                <th class="col-lg-1 align-middle text-center" scope="col">
                                                    PRECIO UNITARIO
                                                </th>
                                                <th class="col-lg-1 align-middle text-center" scope="col">
                                                    PORCION
                                                </th>
                                                <th class="col-lg-1 align-middle text-center text-nowrap" scope="col">
                                                    TOTAL PLATO
                                                </th>
                                                <th class="col-lg-1 align-middle text-center" scope="col">
                                                    DESCRIPCION
                                                </th>
                                                <th class="col-lg-1 align-middle text-center" scope="col">
                                                    SELECCIONADO
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="align-content-stretch align-content-stretch">
                                            <tr *ngFor="let PlatosAMostrar of platosAMostrarList; let i = index"
                                                (click)="calcularTotalPlato(i)">
                                                <!-- se usa para el form pero no se muestra en pantalla-->
                                                <td class="col-lg-1 align-middle text-center" [style.display]="'none'">
                                                    <input readonly [style.display]="'none'" type="number"
                                                        class="form-control text-center"
                                                        [value]="PlatosAMostrar.idPlatosAMostrar">
                                                </td>
                                                <!-- se usa para el form pero no se muestra en pantalla-->
                                                <td class="col-lg-1 align-middle text-center" [style.display]="'none'">
                                                    <input readonly [style.display]="'none'" name="idPedido_{{i}}"
                                                        inputmode="numeric" class="form-control text-center"
                                                        [(ngModel)]="idPedido">
                                                </td>
                                                <td class="col-lg-2 align-middle text-center">
                                                    {{PlatosAMostrar.platos.nombrePlato}}
                                                </td>
                                                <td class="col-lg-1 align-middle text-center">
                                                    ${{PlatosAMostrar.platos.precioPlato}}
                                                </td>
                                                <!-- "calcularTotalPlato(i)"se activa siempre que se haga click en las flechas del input-->
                                                <!-- (keydown)="handleKeydown($event) no permite ingresar manualmente numeros al input-->
                                                <td class="col-lg-1 align-middle text-center">
                                                    <input type="number" [value]="porcionesPlatosList[i]"
                                                        (keydown)="handleKeydown($event)" type="number"
                                                        class="form-control text-center"
                                                        (click)="seleccionarChekBoxSiHayPorcionPla(i); calcularTotalPlato(i)"
                                                        [(ngModel)]="porcionesPlatosList[i]" min="1" max="10"
                                                        name="porcionPlato_{{i}}" [readonly]="inputReadOnlyPorcionPlato"
                                                        [disabled]="inputDisabledPorcionPlato">
                                                </td>
                                                <td class="col-lg-1 align-middle text-center">
                                                    <input readonly type="number" name="totalPlato_{{i}}"
                                                        class="form-control text-center"
                                                        [(ngModel)]="totalesPlatosList[i]">
                                                </td>
                                                <td class="col-lg-1 align-middle text-center">
                                                    {{PlatosAMostrar.descripcionPlatoAMostrar}}
                                                </td>

                                                <td class="col-lg-1 align-middle text-center">
                                                    <input type="checkbox" [checked]="platosSeleccionadosSioNo[i]"
                                                        (change)="agregarPorcionesPlaSeleccionandoChekBox(i); chekBoxSeleccion(i); getListaDatosClienteAntesEnvio();"
                                                        [disabled]="chekBoxSelcPlat">
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="row justify-content-center">
                                <div class="col-6 text-center">
                                    <br>
                                    <br>
                                    <button [disabled]="botonDisabledCrPe" class="btn btn-outline-light" type="button"
                                        (click)="agregarPedido(); mostrarONoBtnEditarPlaSelec()"
                                        [style.display]="botonDisplayNoneCrPe">
                                        CREAR PEDIDO
                                    </button>
                                </div>
                            </div>
                            <br>
                            <div class="row justify-content-center">
                                <div class="col-6 text-center">
                                    <button class="btn btn-outline-light" type="button"
                                        [style.display]="botonEditarPlatosSelecYDat"
                                        (click)="editarPlatSeleccAntesEnv(); ocultarBotonParaEditar()">
                                        EDITAR PLATOS SELECCIONADOS
                                    </button>
                                </div>
                            </div>
                            <div class="row justify-content-center">
                                <div class="col-6 text-center">
                                    <button class="btn btn-outline-light" type="button"
                                        [style.display]="botonConfirEdicPlatosSelecYDat"
                                        (click)="confirmarPlatSelecc()">
                                        GUARDAR CAMBIOS
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="modalitoEnviarPedido" id="iDmodalitoEnviarPedido">
                            <p class="d-flex flex-row justify-content-center h5">Pedido N° {{idPedido}}:
                                {{mensajePedEnviadoDB}}</p>


                            <div class="row text-center">
                                <p>{{ 'Nombre Cliente: ' + nombreCliente }}</p>
                                <p>{{ 'Teléfono Cliente: ' + telefonoCliente }}</p>
                                <p>{{ 'Dirección: ' + direccionCliente }}</p>
                                <p>{{ 'Localidad: ' + localidadCliente }}</p>
                            </div>
                            <div *ngFor="let platoSeleccionado of getPlatosSeleccionados(); let i = index">
                                <ng-container *ngIf="platoSeleccionado && platoSeleccionado?.platos">

                                    <!-- div class="d-flex flex-row" hace que la lista sea horizontal>-->
                                    <div class="d-flex flex-row justify-content-center">
                                        <ul class="list-group">
                                            <li class="list-group-item list-group-item-primary">Plato {{ i + 1 }}: {{
                                                platoSeleccionado.platos.nombrePlato }}</li>
                                        </ul>
                                        <ul class="list-group">
                                            <li class="list-group-item list-group-item-secondary">Total: $ {{
                                                platoSeleccionado.totalPlato }}</li>
                                        </ul>
                                        <ul class="list-group">
                                            <li class="list-group-item list-group-item-secondary">Precio unitario: $ {{
                                                platoSeleccionado.platos.precioPlato }}</li>
                                        </ul>
                                        <ul class="list-group">
                                            <li class="list-group-item list-group-item-success">Porciones: {{
                                                platoSeleccionado.porcionPlato }}</li>
                                        </ul>
                                    </div>

                                </ng-container>
                            </div>
                            <div class="col-12 text-center">
                                <br>
                                <br>
                                <button class="btn btn-outline-light" type="button" (click)="enviarDetallePedidos()"
                                    [disabled]="botonDisabledEnvDetPe" [style.display]="botonDisplayNonedEnvDetPe">
                                    ENVIAR PEDIDO
                                </button>
                                <br>
                                <br>
                                <br>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </ng-template>


        <!-- LISTA DE PEDIDOS DE LA FECHA ACTUAL -->

        <div class="container-fluid">
            <h5 class="title col-12 col-md-8 col-lg-6 mx-auto py-3 text-center border border-secondary rounded">
                PEDIDOS DEL DIA
            </h5>
            <div class="row">
                <div class="col-lg-12 col-md-12">
                    <div class="border border-secondary border-2 rounded pt-4 ps-5 pe-5 mb-4"
                        id="bordesYBackGrCardGdepPedDia">
                        <div class="cardGrandepPedDia border border-secondary border-2 rounded p-3">
                            <div class="card-icon card-icon-large">
                                <i class=""></i>
                            </div>

                            <div class="mb-1">
                                <div class="d-flex justify-content-between mb-3">
                                    <!-- Boton agregar pedido -->
                                    <button class="btn btn-outline-light btn-md" title="AGREGAR PEDIDO"
                                        (click)="openModalAgregarPedidos(templateAgregarPedido); cerrarModalitosLimpiarInput()">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="btn btn-outline-secondary btn-md"
                                        title="IR A MENU ACTUAL EN PAGINA WEB"
                                        (click)="scrollASeccion('bordesYBackGrCardGdePlaMos')">
                                        <i class="fas fa-arrow-circle-down animacion"></i>
                                    </button>
                                </div>
                                <div class="row justify-content-center">
                                    <p class="text-center">{{mensajeLisPedDiaVacio}}</p>
                                    <div class="col-12 col-md-6 col-lg-4 mb-4"
                                        *ngFor="let DetallePedidosHoy of pedidosDeHoyList">
                                        <div class="card text-white bg-secondary border-white border-2 rounded">
                                            <div class="card-header text-center">
                                                ID: {{DetallePedidosHoy.idPedido}}
                                            </div>
                                            <div class="card-body">
                                                <div class="col-12 text-center">
                                                    <h5 class="card-title text-center">
                                                        {{DetallePedidosHoy.pedidoConfirmado
                                                        ? 'CONFIRMADO' : 'NO CONFIRMADO'}}</h5>
                                                    <button class="btn btn-outline-light btn-sm"
                                                        (click)="openModalEditarPedidos(templateEditarPedido);  obtPedidoXId(DetallePedidosHoy.idPedido, DetallePedidosHoy.fecha, DetallePedidosHoy.hora, 
                                                                 DetallePedidosHoy.nombreCliente, DetallePedidosHoy.telefonoCliente, 
                                                                 DetallePedidosHoy.direccionCliente, DetallePedidosHoy.localidadCliente, 
                                                                 DetallePedidosHoy.listaPlatosDelPedido, DetallePedidosHoy.importeTotalPedido, DetallePedidosHoy.pedidoConfirmado?? false)"><i
                                                            class="fas fa-sync"></i>
                                                    </button>

                                                </div>
                                                <br>
                                                <p class="card-text border border-1 rounded p-2">Cliente:
                                                    {{DetallePedidosHoy.nombreCliente}}</p>
                                                <p class="card-text border border-1 rounded p-2">Fecha:
                                                    {{DetallePedidosHoy.fecha}}</p>
                                                <p class="card-text border border-1 rounded p-2">Hora:
                                                    {{DetallePedidosHoy.hora}}</p>
                                                <div class="border border-3 rounded p-2 mb-3 bg-black">
                                                    <p class="card-text text-center">Detalle:
                                                        {{DetallePedidosHoy.listaPlatosDelPedido}}
                                                    </p>
                                                    <!-- Boton editar platos -->
                                                    <div class="text-center">
                                                        <button class="btn btn-outline-light btn-sm"
                                                            title="Editar platos" type="button"
                                                            (click)="listaDetallePedidosXIdPedido(DetallePedidosHoy.idPedido);
                                                                                                         modalitoAgrDetPed = false;
                                                                                                         mostrarOcultarModalitoEditDetallePedid();
                                                                                                         listaPlatosComp();
                                                                                                         scrollASeccion('anclaSeccion1');">
                                                            <i class="far fa-edit"></i>
                                                        </button>
                                                        <!-- Boton agregar platos -->
                                                        <button class="btn btn-outline-light btn-sm"
                                                            title="Agregar platos" type="button" (click)="cerrarModalitosLimpiarInput();
                                          mostrarOcultarModalitoAgrDetPed();
                                          modalitoEditPedid = false;
                                          seleccionarIdPedido(DetallePedidosHoy.idPedido);
                                          scrollASeccion('anclaAgregDetPed');
                                          listaPlatosComp()">
                                                            <i class="fas fa-plus small"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <p class="card-text border border-1 rounded p-2">Teléfono:
                                                    {{DetallePedidosHoy.telefonoCliente}}</p>
                                                <p class="card-text border border-1 rounded p-2">Dirección:
                                                    {{DetallePedidosHoy.direccionCliente}}
                                                </p>
                                                <p class="card-text border border-1 rounded p-2">Localidad:
                                                    {{DetallePedidosHoy.localidadCliente}}
                                                </p>
                                                <p class="card-text border border-1 rounded p-2">Total: $
                                                    {{DetallePedidosHoy.importeTotalPedido}}
                                                </p>
                                            </div>
                                            <div class="col-12 card-footer d-flex justify-content-between">
                                                <!-- Boton editar -->
                                                <button class="btn btn-outline-light btn-sm"
                                                    title="Editar datos del pedido"
                                                    (click)="openModalEditarPedidos(templateEditarPedido); 
                                            obtPedidoXId(DetallePedidosHoy.idPedido, DetallePedidosHoy.fecha, DetallePedidosHoy.hora, 
                                            DetallePedidosHoy.nombreCliente, DetallePedidosHoy.telefonoCliente, 
                                            DetallePedidosHoy.direccionCliente, DetallePedidosHoy.localidadCliente, 
                                            DetallePedidosHoy.listaPlatosDelPedido, DetallePedidosHoy.importeTotalPedido, DetallePedidosHoy.pedidoConfirmado?? false)">
                                                    <i class="far fa-edit"></i>
                                                </button>
                                                <!-- Boton borrar -->
                                                <button class="btn btn-outline-light btn-sm" title="Eliminar pedido"
                                                    (click)="eliminarPedido(DetallePedidosHoy.idPedido)">
                                                    <i class="far fa-trash-alt"></i>
                                                </button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <!-- FORMULARIO AGREGAR 1 DETALLE PEDIDO -->
        <div *ngIf="modalitoAgrDetPed" id="anclaAgregDetPed">
            <div class="border border-secondary border-2 rounded pt-4 ps-5 pe-5 mb-4 borderFormAgPed">
                <form (ngSubmit)="agregarUnDetallePedido()" novalidate #f="ngForm"
                    class="text-center justify-content-center p-2" id="backGrFormAgPed">
                    <div class="col-1" style="padding-right: 10%;">
                        <!-- Boton cerrar del modalitoTdEditDetPedid -->
                        <button class="btn btn-outline-light btn-sm" type="button" title="Cerrar" type="button"
                            (click)="modalitoAgrDetPed = false">
                            <i class="far fa-times-circle small text-white"></i>
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>

                                    <th class="text-center" scope="col">ID PEDIDO</th>
                                    <th class="text-center" scope="col">PLATO</th>
                                    <th class="text-center" scope="col">PORCION</th>
                                    <th class="text-center" scope="col">EDICION</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr class="col-2">

                                    <td class="text-center align-middle border-top">
                                        <input readonly [(ngModel)]="idPedidoGuardDetPed" type="number" min="1"
                                            class="form-control" name="idPedidoGuardDetPed">
                                    </td>
                                    <td class="text-center align-middle border-top">
                                        <select class="form-select" [(ngModel)]="idPlato" name="idPla" type="text"
                                            required>
                                            <option disabled selected>Seleccionar</option>
                                            <option *ngFor="let listaParaSelect of listaPlatosCompleta"
                                                [value]="listaParaSelect.idPlato">
                                                {{ listaParaSelect.idPlato }} - {{
                                                listaParaSelect.nombrePlato }}
                                            </option>
                                        </select>
                                    </td>

                                    <td class="text-center align-middle border-top">
                                        <input [(ngModel)]="porcionPlato" type="number" min="1" max="10"
                                            class="form-control" name="porcPla">
                                    </td>

                                    <td class="text-center align-middle border-top">
                                        <!-- Boton enviar nuevo detalle pedido -->
                                        <button class="btn btn-light rounded-circle border border-secondary"
                                            title="Enviar actualizacion" type="submit">
                                            <i class="far fa-check-circle small"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <!-- MODAL EDITAR PEDIDO -->
    <ng-template #templateEditarPedido>
        <div class="modal-header" id="backgrTitleModaleEdiDaEn">
            <h4 class="modal-title text-white">EDITAR</h4>
            <div class="card-icon card-icon-large">
                <i class=""></i>
            </div>
            <button type="button" class="btn btn-outline-light btn-sm"
                (click)="modalEditarPedido.hide(); cerrarModalitosLimpiarInput(); resetFormCleanChekBox('formularioPedidYDetPedid')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="container-fluid modal-menu">
            <div class="border border-white border-2 rounded m-3 p-3" id="backgrediDaEn">
                <div class="border border-white border-2 rounded m-3 p-3">
                    <form (ngSubmit)="editarPedido()" novalidate #f="ngForm">
                        <div class="table-responsive">
                            <div class="form-group col-12 pb-3">
                                <label for="idPedido">ID PEDIDO</label>
                                <input readonly type="number" class="form-control" id="idPedido" name="idPedido"
                                    [(ngModel)]="idPedido" required>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="pedidoConfirmado">PEDIDO CONFIRMADO</label>
                                <select class="form-select" [(ngModel)]="pedidoConfirmado" name="pedidoConfirmado"
                                    required>
                                    <option *ngFor="let option of listaPeConfTrueFalse" [ngValue]="option.value">
                                        {{ option.label }}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="fecha">FECHA </label>
                                <input readonly type="text" class="form-control" id="fecha" name="fecha"
                                    [(ngModel)]="fecha" required>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="hora">HORA</label>
                                <input readonly type="text" class="form-control" id="hora" name="hora"
                                    [(ngModel)]="hora" required>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="nombreCliente">NOMBRE CLIENTE</label>
                                <input type="text" class="form-control" id="nombreCliente" name="nombreCliente"
                                    [(ngModel)]="nombreCliente" required>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="telefonoCliente">TELEFONO CLIENTE</label>
                                <input type="text" class="form-control" id="telefonoCliente" name="telefonoCliente"
                                    [(ngModel)]="telefonoCliente" required>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="direccionCliente">DIRECCION</label>
                                <input type="text" class="form-control" id="direccionCliente" name="direccionCliente"
                                    [(ngModel)]="direccionCliente" required>
                            </div>
                            <div class="form-group col-12 pb-3">
                                <label for="hora">LOCALIDAD</label>
                                <input type="text" class="form-control" id="localidadCliente" name="localidadCliente"
                                    [(ngModel)]="localidadCliente" required>
                            </div>
                        </div>
                        <div class="form-group col-12 pb-3">
                            <label for="importeTotalPedido">TOTAL</label>
                            <input readonly type="number" class="form-control" id="importeTotalPedido"
                                name="importeTotalPedido" [(ngModel)]="importeTotalPedido" required>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-6">
                                <button class="btn btn-outline-light">
                                    Enviar
                                </button>
                                <br>
                                <br>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </ng-template>
</div>


<!-- LISTA (PODRIA DECIRSE TB MODALITO) DE DETALLES DEL PEDIDO PARA EDITAR -->

<div class="container-fluid" *ngIf="modalitoEditPedid" id="anclaSeccion1">
    <div class="border border-secondary border-2 rounded pt-4 ps-5 pe-5 mb-4" id="bordesYBackGrLisPedEdit">
        <div class="modalitoEditPedid">
            <div class="containerModalEditPed">
                <!-- Boton cerrar de la lista detalles del pedido -->
                <button *ngIf="modalitoTdEditDetPedid" class="btn btn-outline-light btn-sm m-2" type="button"
                    title="Cerrar" (click)="cerrarModalitosLimpiarInput()">
                    <i class="far fa-times-circle small text-white"></i>
                </button>
            </div>
            <table class="table text-white">
                <thead>
                    <td *ngIf="modalitoInputEditDetPedid">
                        <div class="pb-1">
                            <!-- Boton cerrar del modalitoTdEditDetPedid -->
                            <button class="btn btn-outline-light btn-sm" type="button" title="Cerrar" type="button"
                                (click)="cerrarModalitosLimpiarInput()">
                                <i class="far fa-times-circle small text-white"></i>
                            </button>
                        </div>
                    </td>
                    <tr *ngIf="modalitoTdEditDetPedid">
                        <th class="text-center" scope="col">ID DET PED</th>
                        <th class="text-center" scope="col">PORCION</th>
                        <th class="text-center" scope="col">ID PLATO</th>
                        <th class="text-center" scope="col">PLATO</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let detallePedidosLi of detallePedidosListxIdPedido" class="table-bordered">
                        <td *ngIf="modalitoTdEditDetPedid" class="text-center align-middle border-top">
                            {{detallePedidosLi.idDetallePedido}}</td>
                        <td *ngIf="modalitoTdEditDetPedid" class="text-center align-middle border-top">
                            {{detallePedidosLi.porcionPlato}}</td>
                        <td *ngIf="modalitoTdEditDetPedid" class="text-center align-middle border-top">
                            {{detallePedidosLi.platos.idPlato}}</td>
                        <td *ngIf="modalitoTdEditDetPedid" class="text-center align-middle border-top">
                            {{detallePedidosLi.platos.nombrePlato}}</td>



                        <td *ngIf="modalitoTdEditDetPedid" class="text-center align-middle border-top">
                            <!-- Boton editar -->
                            <button class="btn btn-outline-light btn-sm" type="button" title="Editar" (click)="mostrarOcultarModalitoEditDetPedid();
                                 mostrarOcultarModalitoTdEditDetPedid();
                                 listaPlatosForSele();
                                 obtenerDetPedXId(detallePedidosLi.idDetallePedido, 
                                 detallePedidosLi.pedidos.idPedido, 
                                 detallePedidosLi.porcionPlato, 
                                 detallePedidosLi.platos.nombrePlato,
                                 detallePedidosLi.platos.idPlato
                                  )">
                                <i class="far fa-edit small"></i>
                            </button>
                            <!-- Boton borrar -->
                            <button class="btn btn-outline-light btn-sm" type="button" title="Borrar" (click)="eliminarDetallePedidos(detallePedidosLi.idDetallePedido,
                                 detallePedidosLi.pedidos.idPedido);">
                                <i class="far fa-trash-alt small"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- Formulario editar detalle del pedido -->
            <form (ngSubmit)="editarDetallePedidos()" novalidate #f="ngForm"
                class="text-center justify-content-center p-2" id="formEditDetPed">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr *ngIf="modalitoInputEditDetPedid">
                                <th class="text-center" scope="col" [style.display]="'none'">ID DET PED</th>
                                <th class="text-center" scope="col">NUEVO PLATO</th>
                                <th class="text-center" scope="col">PORCION</th>
                                <th class="text-center" scope="col">PLATO ACTUAL</th>
                                <th class="text-center" scope="col">EDICION</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr class="col-2">

                                <td *ngIf="modalitoInputEditDetPedid" [style.display]="'none'"
                                    class="text-center align-middle border-top">
                                    <input [(ngModel)]="idDetallePedido" type="number" class="form-control"
                                        name="idDetPed">
                                </td>
                                <td *ngIf="modalitoInputEditDetPedid" class="text-center align-middle border-top">
                                    <select class="form-select" [(ngModel)]="idPlato" name="idPla" required>
                                        <option selected> {{idPlato}} - {{nombrePlato}}
                                        </option>
                                        <option *ngFor="let MenuCompletoModel of platosListForSelect"
                                            [value]="MenuCompletoModel.idPlato">
                                            {{ MenuCompletoModel.idPlato }} - {{
                                            MenuCompletoModel.nombrePlato }}
                                        </option>
                                    </select>
                                </td>

                                <td *ngIf="modalitoInputEditDetPedid" class="text-center align-middle border-top">
                                    <input [(ngModel)]="porcionPlato" type="number" min="1" max="10"
                                        class="form-control" name="porcPla">
                                </td>
                                <td *ngIf="modalitoInputEditDetPedid" class="text-center align-middle border-top">
                                    <input [(ngModel)]="nombrePlato" type="text" readonly
                                        title="Seleccionar el plato a editar en la columna 'NUEVO PLATO' "
                                        class="form-control" name="nombrePla">
                                </td>
                                <td *ngIf="modalitoInputEditDetPedid" class="text-center align-middle border-top">
                                    <!-- Boton enviar edicion -->
                                    <button class="btn btn-light rounded-circle border border-secondary"
                                        title="Enviar actualizacion" type="submit">
                                        <i class="far fa-check-circle small"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </div>

            </form>
        </div>
    </div>
</div>


<!-- LISTA DE PLATOS A MOSTRAR -->
<div class="container-fluid">
    <h5 class="title col-6 mx-auto">MENU ACTUAL EN PAGINA WEB</h5>
    <div class="row">
        <div class="col-lg-12 col-md-12">
            <div class="border border-secondary border-2 rounded pt-4 ps-5 pe-5 mb-4" id="bordesYBackGrCardGdePlaMos">
                <div class="cardGrandepPlaMos p-4 border border-secondary border-2 rounded pt-4 ps-5 pe-5 mb-4">
                    <div class="card-icon card-icon-large">
                        <i class=></i>
                    </div>
                    <div class="mb-1">

                        <div class="button-divisor pb-4 d-flex justify-content-between">
                            <!-- Botón agregar plato a mostrar -->
                            <div>
                                <button class="btn btn-outline-light btn-md" title="AGREGAR PLATO"
                                    (click)="openModalAgregarPlatosAMos(templateAgregarPlatoAMostrar); cerrarModalitosLimpiarInput(); listaPlatosComp()">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>

                            <!-- Botón ir a sección -->
                            <div>
                                <button class="btn btn-outline-secondary btn-md" title="IR A PEDIDOS DEL DIA"
                                    (click)="scrollASeccion('bordesYBackGrCardGdepPedDia')">
                                    <i class="fas fa-arrow-circle-up animacion"></i>
                                </button>
                            </div>
                        </div>
                        <p class="text-center">{{mensajeLisPlaMosVacio}}</p>
                        <div class="table-responsive">
                            <table class="table text-white">
                                <thead>
                                    <tr>
                                        <th class="col-1 text-center">ID PLATO A MOSTRAR</th>
                                        <th class="col-1 text-center">ID PLATO</th>
                                        <th class="col-1 text-center">TIPO PLATO</th>
                                        <th class="col-2 text-center">NOMBRE PLATO</th>
                                        <th class="col-2 text-center">DESCRIPCION</th>
                                        <th class="col-1 text-center">PRECIO PLATO</th>
                                        <th class="col-2 text-center">IMAGEN</th>
                                        <th class="col-1 text-center">EDICION</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let plaMos of platosAMostrarList">
                                        <td class="col-1 text-center">
                                            <p class="text-justify">{{plaMos.idPlatosAMostrar}}</p>
                                        </td>
                                        <td class="col-1 text-center">
                                            <p class="text-justify">{{plaMos.platos.idPlato}}</p>
                                        </td>
                                        <td class="col-1 text-center">
                                            <p class="text-justify">{{plaMos.platos.tipoPlato.nombreTipoPlato}}
                                            </p>
                                            <i class="{{plaMos.platos.tipoPlato.iconoTipoPlato}}"></i>
                                        </td>
                                        <td class="col-2 text-center">
                                            <p class="text-justify">{{plaMos.platos.nombrePlato}}</p>
                                        </td>
                                        <td class="col-2 text-center"
                                            title="La descripcion del plato a mostrar acepta un maximo de 385 caracteres">
                                            <p class="text-justify">{{plaMos.descripcionPlatoAMostrar}}</p>
                                        </td>
                                        <td class="col-1 text-center">
                                            <p class="text-justify">$ {{plaMos.platos.precioPlato}}</p>
                                        </td>
                                        <td class="col-2 text-center">
                                            <img class="img-fluid rounded-pill border border-white border-5 rounded-5 border-opacity-50"
                                                src="{{plaMos.platos.imgPlato}}">
                                        </td>

                                        <td class="col-1 text-center">
                                            <!-- Boton borrar -->
                                            <button class="btn btn-outline-light btn-md"
                                                title="Eliminar plato a mostrar por pagina web"
                                                (click)="borrarPlatMosMensajeAdv(plaMos.idPlatosAMostrar)">
                                                <i class="far fa-trash-alt"></i>
                                            </button>
                                            <br>
                                            <br>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL AGREGAR PLATOS A MOSTRAR -->

    <ng-template #templateAgregarPlatoAMostrar>
        <div class="modal-header" id="backgrTitleModalAgPl">
            <h4 class="modal-title text-white">AGREGAR PLATOS A MENU EN PAGINA WEB</h4>
            <div class="card-icon card-icon-large">
                <i class=""></i>
            </div>
            <button type="button" class="btn btn-outline-light btn-sm"
                (click)="cerrarModalitosLimpiarInput(); resetFormCleanChekBox('formularioAgPlaMos'); modalAgregarPlatosAMos.hide()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="container modal-menu">
            <div class="row">

            </div>
            <div class="row align-items-center border border-white border-2 rounded m-3" id="backgrModalAgPl">
                <form novalidate #f="ngForm" (ngSubmit)="agregarPlatoAMos()" class="pedidosForm"
                    id="formularioAgPlaMos">
                    <div class="row text-center border border-white border-2 rounded m-3">
                        <div class="form-group col-12 pb-3">
                            <br>
                            <label for="idPlato">ID PLATO</label>
                            <select class="form-select" [(ngModel)]="idPlato" (change)="agregarPlatosEnInputs(idPlato)"
                                name="idPlato" required>

                                <option *ngFor="let listaPlatos of listaPlatosCompleta" [value]="listaPlatos.idPlato">
                                    {{ listaPlatos.idPlato}} - {{ listaPlatos.nombrePlato}}
                                </option>
                            </select>
                        </div>
                        <div class="form-group col-6 pb-3 mx-auto">
                            <img id="imgPlato" name="imgPlato"
                                class="img-fluid rounded-pill border border-white border-5 rounded-5 border-opacity-50"
                                [src]="imgPlato">
                        </div>
                        <div class="form-group col-12 pb-3">
                            <label for="idPlatosAMostrar">ID PLATOS A MOSTRAR</label>
                            <input readonly type="number" class="form-control text-center" id="idPlatosAMostrar"
                                name="idPlatosAMostrar" [value]="idPlatosAMostrar" required>
                        </div>
                        <div class="form-group col-12 pb-3">
                            <label for="tipoPlato">TIPO PLATO</label>
                            <input readonly type="text" class="form-control text-center" id="tipoPlato" name="tipoPlato"
                                [value]="tipoPlato" required>
                        </div>
                        <div class="form-group col-12 pb-3">
                            <label for="nombrePlato">NOMBRE PLATO</label>
                            <input readonly type="text" class="form-control text-center" id="nombrePlato"
                                name="nombrePlato" [value]="nombrePlato" required>
                        </div>
                        <div class="form-group col-12 pb-3">
                            <label for="descripcionPlatoAMostrar">DESCRIPCION</label>
                            <input type="text" class="form-control text-center" id="descripcionPlatoAMostrar"
                                name="descripcionPlatoAMostrar" [(ngModel)]="descripcionPlatoAMostrar"
                                title="El maximo de caracteres para la descripcion del plato a mostrar es 260. Los caracteres incluyen espacios."
                                required>
                        </div>
                        <div class="form-group col-12 pb-3">
                            <label for="precioPlato">PRECIO PLATO $</label>
                            <input readonly type="number" class="form-control text-center" id="precioPlato"
                                name="precioPlato" [value]="precioPlato" required>
                        </div>

                        <div class="row justify-content-center">
                            <div class="col-12">
                                <button class="btn btn-outline-light btn-sm">
                                    AGREGAR PLATOS A MOSTRAR
                                </button>
                            </div>
                            <br>
                            <br>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </ng-template>

</div>




<div class="containerLink" id="">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" />
</div>